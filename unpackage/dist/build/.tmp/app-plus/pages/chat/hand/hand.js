(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/chat/hand/hand"],{1927:function(e,t,n){"use strict";var o,r=function(){var e=this,t=e.$createElement;e._self._c},a=[];n.d(t,"b",function(){return r}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return o})},"2a1a":function(e,t,n){"use strict";n.r(t);var o=n("1927"),r=n("bbef");for(var a in r)"default"!==a&&function(e){n.d(t,e,function(){return r[e]})}(a);n("5e33");var i,s=n("f0c5"),u=Object(s["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],i);t["default"]=u.exports},"48b1":function(e,t,n){},"5e33":function(e,t,n){"use strict";var o=n("48b1"),r=n.n(o);r.a},"7ebe":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n("2f62");function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),o.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(){return n.e("components/cmd-nav-bar/cmd-nav-bar").then(n.bind(null,"35f5"))},s={name:"hand",components:{cmdNavBar:i},data:function(){return{redEnvelopeData:{number:6,money:0,luckMoney:0,blessing:"",dot:1},room:{roomType:"",roomTypeName:"",roomSubType:"",roomId:""},typeClass:"luck",index:0,indexDot:0,picker:["6","8","10"],pickerDot:["1","2","3","4","5","6","7","8","9","0"],mine:""}},computed:r({},(0,o.mapState)(["hasLogin","userInfo","getMsg"])),onShow:function(){this.mine=this.userInfo.user},onLoad:function(e){this.room.roomTypeName=e.roomTypeName,this.room.roomType=e.roomType,this.room.roomSubType=e.roomSubType,this.room.roomId=e.roomId},methods:{PickerChange:function(e){this.index=e.detail.value,this.redEnvelopeData.number=this.picker[this.index]},PickerChangeDot:function(e){this.indexDot=e.detail.value,this.redEnvelopeData.dot=this.pickerDot[this.indexDot]},switchType:function(e){this.typeClass=e},hand:function(t){var n=this;if("luck"&&(this.redEnvelopeData.money=this.redEnvelopeData.luckMoney),!this.redEnvelopeData.money||this.redEnvelopeData.money<=0)return e.showToast({title:"金额不能为空",icon:"none"});if(this.redEnvelopeData.number!=Math.abs(parseInt(this.redEnvelopeData.number)))return e.showToast({title:"数量填写大于0的整数",icon:"none"});this.redEnvelopeData.blessing=1==this.room.roomType?this.room.roomTypeName+" 雷点 "+this.redEnvelopeData.dot:this.room.roomTypeName,e.showLoading({title:"提交中"});var o={roomId:this.room.roomId,msgType:7,userId:this.mine.id,roomType:this.room.roomType,roomSubType:this.room.roomSubType,money:this.redEnvelopeData.money,number:this.redEnvelopeData.number,description:this.redEnvelopeData.blessing,dot:this.redEnvelopeData.dot};this.$apiconfig.sendMessage_f({data:o}).then(function(t){if(t.data.success){var o=new Date,r={type:"user",msg:{id:t.data.data.id,roomId:n.room.roomId,type:"redEnvelope",time:o,userinfo:{uid:n.mine.id,username:n.mine.userName,nickname:n.mine.nickName,face:n.mine.avatar},content:{blessing:n.redEnvelopeData.blessing,rid:t.data.data.id,isReceived:!1,dot:n.redEnvelopeData.dot}}};n.$mysocket.ws.send({data:JSON.stringify(r)})}e.hideLoading(),e.navigateBack()})}}};t.default=s}).call(this,n("6e42")["default"])},b663:function(e,t,n){"use strict";(function(e){n("55c5"),n("921b");o(n("66fd"));var t=o(n("2a1a"));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},bbef:function(e,t,n){"use strict";n.r(t);var o=n("7ebe"),r=n.n(o);for(var a in o)"default"!==a&&function(e){n.d(t,e,function(){return o[e]})}(a);t["default"]=r.a}},[["b663","common/runtime","common/vendor"]]]);